---
title: Continuous Wavelet Transform (CWT)简述
date: 2014-10-28 00:43:00
permalink: 1414428180000
tags: 数字信号处理
---

在傅立叶变换中，我们将各个频率的三角波与信号作积分，积分值即为对应频率的强度。在这里，改变三角波的频率可以看作是在时间域对三角波进行拉伸或压缩。由于小波变换中的“小波”不是周期信号，所以没有频率一说，实际对应的是拉伸或压缩，以haar小波为例:
scale 2的haar wavelet filter是[1 -1]
scale 3 = [1 0 -1]
scale 4 = [1 1 -1 -1]
scale 5 = [1 1 0 -1 -1]
scale 6 = [1 1 1 -1 -1 -1]
...
最后补充一个scale 1 = [0]，这是因为wavelet的平均值要求为0。

好，频率的问题解决了。小波由于其长度有限，它还能引入一个三角波做不到的事，这就是平移，这个平移+积分的操作实际就是数字信号处理中的correlation，对小波作时间反演可以将correlation变为convolution，所以这个wavelet可以看作是一个filter，只不过它是一个长度可变（或者说“频率”可变）的filter。前面说到wavelet filter的平均值要求为0，这么要求的一个原因是这种filter与直流信号correlation得到的结果为0，相当于去除了直流偏置。
<!-- more -->
如果我们将傅立叶变换作一个对比，两者的对应关系如下：
三角波的频率 <-> 小波的scale（拉伸/压缩）
信号和三角波积分 <-> 信号和小波的correlation
频率-强度二维关系图 <-> 时间-scale-强度三维关系图

到这儿，小波变换的核心内容就差不多了，但具体实现还需要进一步改进。首先，当scale增加时，我们需要对wavelet filter进行“归一化”，否则correlation value会随着scale变大而变大，这样导致的结果就是不同scale下的数值没有可比性。另外，信号的头尾我们需要特殊处理一下，比如说补零，得到的correlation value也需要裁剪到与信号长度一直。另外，如果要包含所有scale下的结果，计算复杂度为 O(n^3) ，这样计算量太大会导致算法不实用，而实际上包含所有scale的结果冗余度很大，我们往往只需要计算scale 2, 4, 8, 16...的结果，这样会很大程度上减小计算量。

最后，说到这，Continuous Wavelet Transform中的continuous应该很好理解了，这里的continuous/discrete并不是指时间的连续/离散，而是指scale的“连续/离散” ，如果变换包含scale 0, 1, 2, 3, 4, ....所有的结果，那么scale就是“连续”的；如果scale为2, 4, 8, 16....，那么就是“离散”的。

虽然CWT计算量很大，但算法实现需要的步骤较少，对于我们理解小波变换有一定意义。
