<!doctype html>



  


<html class="theme-next muse use-motion">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css">


  <meta name="keywords" content="钱寅垠, Yinyin Qian, yyqian">








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0">






<meta name="description" content="In me the tiger sniffs the rose">
<meta property="og:type" content="website">
<meta property="og:title" content="YYQIAN">
<meta property="og:url" content="https://yyqian.com/page/6/index.html">
<meta property="og:site_name" content="YYQIAN">
<meta property="og:description" content="In me the tiger sniffs the rose">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="YYQIAN">
<meta name="twitter:description" content="In me the tiger sniffs the rose">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> YYQIAN </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?d00e38d4c75ea7dd82adf3b48be0c9ff";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">YYQIAN</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Do not go gentle into that good night</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br>
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1446792395444/" itemprop="url">
                  Thinking in Java 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-11-06T14:46:35+08:00" content="2015-11-06">
              2015-11-06
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1446792395444/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1446792395444/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>这段是草草看完一遍之后写的。Java确实在“安全性”上要比我之前学过的语言好一点，在大型项目、多人合作时优点应该会比较突出，可以降低普通程序员犯傻的几率，可扩展性也不错。但除次之外感觉优点不多，首先语法实在太繁琐，Everything is object也是把双刃剑，况且也不真的是“Everything”。另外，要说这语言简单，深究下去也并不简单，一些高级特性像inner class、反射机制这种使用起来很复杂，代码也很难读，只能说作为Class的使用者来说还是比较简单的，但作为Class的作者就比较有挑战了。功能上，Java应该是比较全面的，并且相信是有保障的；Node.js在这方面还是显得有些嫩，虽然node的核心小而美是件好事，npm上的模块也很多，但不少是个人维护的，稳定性以及将来持续维护的可能性都不确定，我个人就遇到过node版本更新导致模块安装错误或是依赖的模块安装错误，而且作者也没及时修复的意思，所以在真正大项目中使用node.js还是要谨慎。当然，这些也与Node本身快速变化有关，希望4.2版本作为LTS可以稳定下来。但如果做做小项目，个人还是很喜欢Node.js的，虽然Java也号称可以像搭积木一样堆模块，但前置的准备还是有点多，不如Node.js写起来畅快淋漓。《黑客与画家》的作者唱衰Java，觉得以后很有可能会消失在历史长流，但现有的替代者们要是真发展到Java这个规模，很难说还能保持优雅的特性。</p>
<h2 id="1-Introduction-to-Objects"><a href="#1-Introduction-to-Objects" class="headerlink" title="1. Introduction to Objects"></a>1. Introduction to Objects</h2><h3 id="The-progress-of-abstraction"><a href="#The-progress-of-abstraction" class="headerlink" title="The progress of abstraction"></a>The progress of abstraction</h3><p>当我们用程序去解决一个问题的时候，我们要面对的一个问题就是抽象，怎么把现实的问题抽象到一定层面来跟计算机打交道。程序语言可以说是计算机和现实沟通的一个桥梁或翻译，但程序语言本身抽象的程度是不同的。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1446792395444/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1445391938365/" itemprop="url">
                  新西兰南岛蜜月旅行（多图预警）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-10-21T09:45:38+08:00" content="2015-10-21">
              2015-10-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1445391938365/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1445391938365/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><em>图片、文字版权所有，严禁用于商业用途，转载请注明出处。</em></p>
<p>我们这次是10.1出行，乘坐的是新西兰航空，上海直飞奥克兰，然后转机基督城，去的时候没在奥克兰逗留，回去的时候在奥克兰待了一天，简单逛了下。新西兰航空的飞机很好，一架很新的波音787，娱乐设施是一块平板电脑，里面的电影很新，影院还在上映的都有，需要补习下魔戒的话也可以看下，魔戒和霍比特人的全集都有。吃的只能算还行，特色么就是有几种白/红葡萄酒可以选择。座位有USB充电和家用电器充电的插口，手机电脑应该都能充电使用，家用电器插口的电压印象中是110V。下面就主要说下我们南岛的行程：</p>
<p>我们的自驾路线（点击看大图）：</p>
<p><a href="http://cdn.yyqian.com/1445391396856.jpg" target="_blank" rel="noopener"><img src="http://cdn.yyqian.com/1445391396856.jpg" alt="route"></a></p>
<p>最近翻不了墙，所以只能用bing地图凑活，最好还是用Google Map查路线，否则有的景点查不到。</p>
<p>地图给出的全程是1967.5km，22小时45分钟开车时间。实际的路程会更长一点，而且开车时间估计要乘以1.5，因为要算上中途休息、拍照、吃东西以及我们房车实际行驶速度大约只有限速的85%-90%样子。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1445391938365/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1441950579342/" itemprop="url">
                  koa 框架以及 ES6 的分析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-11T13:49:39+08:00" content="2015-09-11">
              2015-09-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1441950579342/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1441950579342/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>随着今年ECMAScript 6的发布和最近Node.js v4.0.0的发布，node.js又得到了一次加强。以往node.js在性能上有着优越的表现，但是JavaScript的语法却常常遭人诟病，譬如回调地狱、无块级作用域等等。这些一部分确实是设计上的问题，另一部分也源于JS其实是“披着C外衣的LISP”，虽然JS很容易使用，但大家并不真的了解它，在这种情况下，很容易写出糟糕的代码。</p>
<p>ES6的推进一定程度上解决了部分问题，譬如用Generator函数和Promise对象改善异步的处理，用let和const来缓解大家对JS词法作用域的不适应，还有Class类来适应面向对象设计。这些改动都让JS语言变得更强大。Node.js 4.0支持了部分ES6的新特性并在逐步覆盖所有特性，并使用了最新的Chrome V8引擎，由于不像浏览器端存在兼容性的问题，也不用去操作糟糕的DOM树，所以Node应该是拥抱ES6带来的改变的最佳试炼场。</p>
<p>接下来主要是分析Node.js的下一代web框架：koa，同时看下ES6的新特性是如何在实际环境中运用的。<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1441950579342/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1441610207606/" itemprop="url">
                  新西兰签证 DIY 攻略
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-09-07T15:16:47+08:00" content="2015-09-07">
              2015-09-07
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1441610207606/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1441610207606/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="我们的Case"><a href="#我们的Case" class="headerlink" title="我们的Case"></a>我们的Case</h2><p>首先，说下我们的申请签证的情况，我们是夫妻共同申请，去新西兰的目的就是度蜜月，在新西兰的旅行计划是南岛自驾房车游。我们俩都曾留美读书，有过美国签证，也有还在有效期内的美国驾照。我们材料递交是通过顺丰快递到上海，周二寄出，然后下个周二就拿到了寄回的护照和签证，期间没有接到电话，给的是3年多次往返的签证。</p>
<p>以下是递交给领事馆的材料清单，我把这个作为整份材料的首页。官方也有个Checklist，但我们一般都还需要附加一些辅助材料：</p>
<h3 id="Documents-List"><a href="#Documents-List" class="headerlink" title="Documents List"></a>Documents List</h3><ol>
<li>Visitor Visa Checklist</li>
<li>Visitor Visa Application form (INZ 1188) (1)</li>
<li>Supplementary Form for Chinese Visitors, Students and Workers (INZ 1027) (2)</li>
<li>Bank remittance record for application fee (1)</li>
<li>Passport (2) and Copy of Passport (2)</li>
<li>Copy of Chinese identity card (2)</li>
<li>Copy of Household registration book (Hukou) (2)</li>
<li>Copy of Marriage certificate (2)</li>
<li>Financial Documents<ul>
<li>Certificate of Bank Deposit (1)</li>
<li>Certificate of Car Property (1)</li>
<li>Bank Statements (3)</li>
<li>Credit Card Statements (1)</li>
<li>Salary Slip (1)</li>
</ul>
</li>
<li>Employment certification<ul>
<li>Certification Letter (2)</li>
<li>Bussiness Card (2)</li>
</ul>
</li>
<li>Copy of Educational Documents (2)</li>
<li>Itinerary to New Zealand (1)</li>
<li>Copy of Flight E-Ticket and Receipt (1)</li>
<li>Copy of Car Rental Invoice (1)</li>
<li>Copy of Chinese Driver License (2)</li>
<li>Copy of American Driver License (2)</li>
<li>EMS Airway Bill (2)</li>
</ol>
<h2 id="DIY攻略"><a href="#DIY攻略" class="headerlink" title="DIY攻略"></a>DIY攻略</h2><p>新西兰签证的材料投递是当面递交或邮递，在领事馆接收到材料后有可能会给你打电话核实些情况。注意点我个人觉得和申请美国的是没什么差别的，主要是以下几点：<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1441610207606/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1440776862271/" itemprop="url">
                  一个值得玩味的 bug
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-28T23:47:42+08:00" content="2015-08-28">
              2015-08-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1440776862271/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1440776862271/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>最近在看<a href="http://book.douban.com/subject/1148282/" target="_blank" rel="noopener">SICP</a>这本书时，发现书中2.1.4节讨论的区间算术很有启发性，问题的描述大概是这样的（这里没有按书上的方式来写）：</p>
<p>我们在现实中测量任何物理量时，一般得到的都不是一个确定的值，而是需要多次测量得到平均值和均方差，一般记录为(x ± dx)。这种记录形式也可以用区间来表示[a, b] = [x - dx, x+ dx]。接下来，我们需要定义一套算术规则来对这个区间进行一些计算，因为我们通常需要将这些直接测量量代入表达式进行计算，来得到一些间接测量量的平均值和误差。</p>
<p>接下来，用面向对象程序设计的思维，我们将这个区间封装为一个对象，用大写字母表示，例如X = [a, b], Y = [c, d]，接下来可以根据下面的运算规则，添加一些用于区间对象的方法，实现区间的四则运算：<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1440776862271/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1440471988201/" itemprop="url">
                  SICP 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-08-25T11:06:28+08:00" content="2015-08-25">
              2015-08-25
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1440471988201/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1440471988201/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>看完第一章，我觉得这就是一本关于<strong>抽象</strong>的书。</p>
<p>我的习题解答见：<a href="https://github.com/yyqian/sicp-solutions" target="_blank" rel="noopener">https://github.com/yyqian/sicp-solutions</a></p>
<h1 id="Chapter-1"><a href="#Chapter-1" class="headerlink" title="Chapter 1"></a>Chapter 1</h1><p>应用序和正则序的差别：正则序先展开，再求值；应用序先求值，再代入。Lisp采用应用序求值。如果遇到if条件判断，正则序也应当立即求值。</p>
<p>习题1.6用函数的方式定义了一个new-if，这个和if的区别是：new-if的then-clause和else-clause都会被执行，而if则只会根据predicate判断结果执行其中一个。原因是new-if是个普通函数，并且Lisp采用应用序求值，因此then-clause和else-clause作为表达式代入的时候回先求值再代入。</p>
<p>迭代过程一般优于递归过程。迭代过程需要有以下几个要素：</p>
<ol>
<li>状态变量</li>
<li>一套规则，用于描述迭代过程中从一个状态到下一个状态的转换</li>
<li>结束检测，用于判断边界
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1440471988201/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </li></ol></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1438060629760/" itemprop="url">
                  Node.js 中的 module.exports，exports，this
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-07-28T13:17:09+08:00" content="2015-07-28">
              2015-07-28
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1438060629760/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1438060629760/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Node.js和Core JS有一点重要的不同是，Node.js多了Module对象，Node会为每一个js文件创建一个Module对象，module之间无法直接访问各自的variable或function，需要通过module.exports来开放接口，然后通过require来引用这些接口，这样就可以实现模块化。</p>
<p>但这里有一点令人感到疑惑的是module.exports和exports的区别是什么？</p>
<p>首先，在默认情况下，这两者以及this都指向同一个引用，这个可以通过这两句来判断：</p>
<pre><code>console.log(module.exports === exports); //true
console.log(module.exports === this); //true
</code></pre><p>然后要注意的另一点是，require()返回的是module.exports。</p>
<p>因此，如果要通过exports或this来暴露接口，要确保各自和module.exports是指向同一个引用的，但这样比较容易出错，因为既要保证exports或this在模块中没有指向新的对象，也要保证module.exports没有指向新的对象。个人比较喜欢的做法是</p>
<pre><code>module.exports = {
    x: 1,
    f: function () {}
};
</code></pre>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1438060629760/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1437635544279/" itemprop="url">
                  JavaScript 笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-07-23T15:12:24+08:00" content="2015-07-23">
              2015-07-23
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1437635544279/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1437635544279/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="零碎的知识"><a href="#零碎的知识" class="headerlink" title="零碎的知识"></a>零碎的知识</h2><hr>
<p>不要比较两个浮点数是否相等，因为存在精度的问题，例如：<code>0.3 - 0.2 === 0.1</code>为<code>false</code></p>
<p>定义变量一定要带var，如果要定义全局变量，定义在程序顶部</p>
<p>JS的Namespace采用的是Function Scope：{}中定义的变量为全局变量，function () {}中用var定义的变量对外隐藏，不用var定义的变量为全局变量</p>
<p>使用//注释</p>
<p>JS只有一个数字类型：64位的浮点数</p>
<p>JS所有字符都是16位的，可以用<code>\u[4 hex digits]</code>表示一个unicode字符<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1437635544279/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </p></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1433494907104/" itemprop="url">
                  SSH 的安全设置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-06-05T17:01:47+08:00" content="2015-06-05">
              2015-06-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1433494907104/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1433494907104/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>首先要注意的一点是，用户名密码登录的方式是不安全的。总体来说，对SSH登录要做以下几点防护：</p>
<ol>
<li>废除密码登录，改用key登录</li>
<li>禁止root账户远程登录</li>
<li>更改默认的22端口</li>
</ol>
<p>要注意的是，第一点会导致你只能从事先注册过的电脑上登录服务器，无法从其他电脑登录。如果注册过的电脑都已经丢了密钥，则会导致你无法登录服务器，所以一旦禁止密码登录后，千万要保护好自己的私钥。</p>
<p>具体操作如下：</p>
<ol>
<li>在本地生成一个key：<code>ssh-keygen -t rsa</code>，该命令会生成2个key，一个公钥，一个私钥。公钥是存放在服务器端，可以公开的，私钥存放在本地要保护好。</li>
<li>将本地的<code>~/.ssh/id_rsa.pub</code>用scp复制到服务器，并将该文件中的key添加到服务器端的<code>~/.ssh/authorized_keys</code>：<br><code>cat id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</code></li>
<li>最后我们要设置下权限，保证他人不能访问服务器端的<code>.ssh</code>文件夹：<br><code>chmod 700 ~/.ssh</code><br><code>chmod 600 ~/.ssh/authorized_keys</code>
          <div class="post-more-link text-center">
            <a class="btn" href="/post/1433494907104/" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </li></ol></div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/post/1433484701184/" itemprop="url">
                  如何绑定动态 IP 的域名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2015-06-05T14:11:41+08:00" content="2015-06-05">
              2015-06-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/post/1433484701184/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="post/1433484701184/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最简单的方法就是注册花生壳，然后在路由器的DDNS里设置一下。</p>
<p>这儿的方法主要是针对路由器没有DDNS功能或DDNS无效的情况，实现的方法就是在内网的Linux服务器上定时运行脚本来更新当前的外网IP，步骤如下：</p>
<ol>
<li>去花生壳注册个账户</li>
<li>申请个免费的“壳域名”，其实就是花生壳的一个二级域名</li>
<li>如果路由器有DDNS设置，那么用上面申请到的信息填写就OK了，不需要以下操作。</li>
<li><p>在要绑定动态IP的服务器上新建以下脚本：</p>
<p>其中<code>USERNAME</code>, <code>PASSWORD</code>, <code>HOSTNAME</code>是自己填写的信息，<code>/PATH/TO/ip.log</code>是保存日志的文件</p>
<p><code>\#! /bin/bash
curl -s -w &quot; &quot; http://USERNAME:PASSWORD@ddns.oray.com/ph/update?hostname=HOSTNAME &gt;&gt; /PATH/TO/ip.log
date &gt;&gt; /PATH/TO/ip.log</code></p>
<p>这个脚本输出的格式是这样的：<br><code>nochg XXX.XXX.XXX.XXX Fri Jun  5 12:30:01 CST 2015</code></p>
</li>
<li><p>然后<code>crontab -e</code>配置一个Crontab让该脚本每隔一段时间运行一下，更新服务器的外网IP:<br><code>0,10,20,30,40,50 * * * * sh /PATH/TO/script.sh</code><br>这个表示在任何day任何hour的0,10,20,30,40,50分钟运行该脚本，实际就是每隔10分钟更新一下。</p>
</li>
<li><p>cron的命令如下<code>sudo service cron status/stop/start/restart</code></p>
</li>
<li><p>如果需要一级域名，那么就把自己的一级域名CNAME到花生壳的二级域名。</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="https://o6wh5ckx2.qnssl.com/201604280914-FqDVv6RqEGFlPWZBF44e5g8DOHvd" alt="Yinyin Qian">
          <p class="site-author-name" itemprop="name">Yinyin Qian</p>
          <p class="site-description motion-element" itemprop="description">In me the tiger sniffs the rose</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">139</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://cn.linkedin.com/in/yyqian" target="_blank">
                  
                    <i class="fa fa-linkedin"></i>
                  
                  Linkedin
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/yyqian" target="_blank">
                  
                    <i class="fa fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.flickr.com/photos/yyqian" target="_blank">
                  
                    <i class="fa fa-flickr"></i>
                  
                  Flickr
                </a>
              </span>
            
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy;  2008 - 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yinyin Qian</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"yyqian"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  

  

</body>
</html>
